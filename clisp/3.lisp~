(defun primep (number)
  (when (> number 1)
    (loop for fac from 2 to (isqrt number) never (zerop (mod number fac)))))


(defun largest-prime-factor (n)
  (loop for fac from 2 to n do
       (if (zerop (mod n fac))
	   (let ((factor (/ n fac)))
	     (if (primep factor) (return factor))))))

(defun solve ()
  (format t "Solution: ~d~%" (largest-prime-factor 600851475143)))

(solve)
